function isValidEmail(a){return/^[a-z0-9]+([-._][a-z0-9]+)*@([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,4}$/.test(a)&&/^(?=.{1,64}@.{4,64}$)(?=.{6,100}$).*/.test(a)}var frontendLocalizationString,RGBChange=function(){$("#RGB").css("background","rgb("+r.getValue()+","+g.getValue()+","+b.getValue()+")")};$(document).ready(function(){$(function(){$.scrollUp({scrollName:"scrollUp",scrollDistance:300,scrollFrom:"top",scrollSpeed:300,easingType:"linear",animation:"fade",animationSpeed:200,scrollTrigger:!1,scrollText:'<i class="fa fa-angle-up"></i>',scrollTitle:!1,scrollImg:!1,activeOverlay:!1,zIndex:2147483647})}),eBazar_frontend.init.pageLoad(),$("#productRequest").on("hidden.bs.modal",function(){$(".subscribe-message").text(""),$("#subscribe_email").val("")}),$("#frontend_all_msg_with_localization").length>0&&(frontendLocalizationString=JSON.parse($("#frontend_all_msg_with_localization").val()))});var eBazar_frontend=eBazar_frontend||{};eBazar_frontend.init={pageLoad:function(){$(".category-products .collapse").on("shown.bs.collapse",function(){$(this).parent().find(".fa-plus").removeClass("fa-plus").addClass("fa-minus")}).on("hidden.bs.collapse",function(){$(this).parent().find(".fa-minus").removeClass("fa-minus").addClass("fa-plus")}),eBazar_frontend.event.filterProducts(),jQuery("#productVideoDisplay iframe").length>0&&(jQuery("#productVideoDisplay iframe").removeAttr("width"),jQuery("#productVideoDisplay iframe").removeAttr("height"),$("#productVideoDisplay").on("hidden.bs.modal",function(){var a=$("#productVideoDisplay iframe").attr("src");$("#productVideoDisplay iframe").attr("src",""),$("#productVideoDisplay iframe").attr("src",a)})),jQuery("#productVideoDisplay video").length>0&&$("#productVideoDisplay").on("hidden.bs.modal",function(){var a=document.getElementById("product_video");a.pause(),a.currentTime=0}),$("#shipping_method_dropdown").length>0&&($("#shipping_method_dropdown").select2(),eBazar_frontend.event.shipping_method_dropdown_option()),$('.cart-data input[type="radio"]').length>0&&eBazar_frontend.event.shipping_method_radio_option(),$(".view-customize-images").length>0&&$(".view-customize-images").on("click",function(a){a.preventDefault();var b=$(this).data("images"),c="";if(b.length>0)for(var d=0;d<b.length;d++)c+='<img src= "'+$("#hf_base_url").val()+"/public/uploads/"+b[d]+'">';$("#customizeImages .modal-body").html(c),$("#customizeImages").modal("show")}),$("#customizeImages").on("hidden.bs.modal",function(){$("#customizeImages .modal-body").html("")}),$(".payment-options").length>0&&$('.payment-options input[type="radio"]').on("click",function(){"paypal"===$(this).val()?($(".place-order").text(frontendLocalizationString.proceed_to_payPal),$("#bacsPopover, #codPopover").hide(),$("#paypalPopover").show()):"bacs"===$(this).val()?($(".place-order").text(frontendLocalizationString.place_order),$("#paypalPopover, #codPopover").hide(),$("#bacsPopover").show()):"cod"===$(this).val()&&($(".place-order").text(frontendLocalizationString.place_order),$("#paypalPopover, #bacsPopover").hide(),$("#codPopover").show())}),eBazar_frontend.event.manageRequestProducts()}},eBazar_frontend.event={filterProducts:function(){$("#filterProductsByName").length>0&&$("#filterProductsByName").click(function(){eBazar_frontend.ajaxCall.filterProductsByName($("#hf_base_url").val()+"/ajax/filter_products")})},ajaxLink:function(){$(".features-all-images .pagination a").click(function(a){a.preventDefault(),eBazar_frontend.ajaxCall.filterProductsByName($(this).attr("href"))})},shipping_method_dropdown_option:function(){$("#shipping_method_dropdown").select2().on("change",function(){eBazar_frontend.ajaxCall.setCartTotalByShippingMethodValue($(this).val())})},shipping_method_radio_option:function(){$('.cart-data input[type="radio"]').on("click",function(){eBazar_frontend.ajaxCall.setCartTotalByShippingMethodValue($(this).val())})},manageRequestProducts:function(){$(".post-subscribe").length>0&&$(".post-subscribe").on("click",function(){$("#subscribe_email").val().length>0?isValidEmail($("#subscribe_email").val())?eBazar_frontend.ajaxCall.sendProductsRequestData($("#subscribe_email").val()):($(".subscribe-message").text(""),$(".subscribe-message").text(frontendLocalizationString.please_enter_valid_email)):$(".subscribe-message").text(frontendLocalizationString.please_enter_email)})}},eBazar_frontend.ajaxCall={filterProductsByName:function(a){$(".ajax-overlay").show(),$.ajax({url:a,type:"POST",cache:!1,datatype:"html",data:{data:$("#filter_products_title").val()},headers:{"X-XSRF-TOKEN":$("#hf_token").val()},success:function(a){1==a.success&&($(".features-all-images").html(a.html),eBazar_frontend.event.ajaxLink()),$(".ajax-overlay").hide()},error:function(){}})},setCartTotalByShippingMethodValue:function(a){$(".cart-total-area-overlay").show(),$.ajax({url:$("#hf_base_url").val()+"/ajax/cart-total-update-by-shipping-method",type:"POST",cache:!1,datatype:"html",headers:{"X-XSRF-TOKEN":$("#hf_token").val()},data:{data:a},success:function(a){a&&$(".cart-data").length>0&&($(".cart-data .cart-total-line").html(a),$(".cart-total-area-overlay").hide())},error:function(){}})},sendProductsRequestData:function(a){$.ajax({url:$("#hf_base_url").val()+"/ajax/requested_product_subscription_data",type:"POST",cache:!1,dataType:"json",data:{data:encodeURIComponent(a)},headers:{"X-XSRF-TOKEN":$("#_token").val()},success:function(a){"success"==a.status?$(".subscribe-message").text(frontendLocalizationString.email_subscribed_successfully):"error"==a.status&&$(".subscribe-message").text(frontendLocalizationString.please_recheck_your_email)},error:function(){}})}};