function find_matching_variations(a){var b=!1,c=$(".variations-content-main").data("variations_details");if(c.length>0){for(var d=0;d<c.length;d++)if(1==c[d].status){if(variations_match(c[d]._variation_array_data,a)){get_products_img||(get_products_img=$(".view-product img").attr("src")),c[d]._variation_post_img_url?$(".view-product img").attr("src",c[d]._variation_post_img_url):$(".view-product img").attr("src",get_products_img);var e="";c[d]._variation_post_regular_price&&c[d]._variation_post_regular_price>0&&c[d]._variation_post_sale_price&&c[d]._variation_post_sale_price>0&&parseFloat(c[d]._variation_post_regular_price)>parseFloat(c[d]._variation_post_sale_price)&&(e+='<span class="offer-price">'+$("#currency_symbol").val()+c[d]._variation_post_regular_price+"</span>"),e+='<span class="solid-price">'+$("#currency_symbol").val()+c[d]._variation_post_price+"</span>",$(".variation-price-label").html(e);var f="";c[d]._variation_post_regular_price&&c[d]._variation_post_sale_price&&parseFloat(c[d]._variation_post_regular_price)>parseFloat(c[d]._variation_post_sale_price)&&c[d]._variation_post_sale_price_start_date&&c[d]._variation_post_sale_price_end_date&&(f='<div class="offer-message-container"><p class="offer-message-label">&#10148; '+frontendLocalizationString.offer_msg+" <i>"+c[d]._variation_post_sale_price_start_date+" "+frontendLocalizationString.offer_msg+" "+c[d]._variation_post_sale_price_end_date+"</i></p><br></div>",$(".variation-price-label").after(f));var g="";return 1==c[d]._variation_post_manage_stock&&c[d]._variation_post_manage_stock_qty>0&&"variation_in_stock"==c[d]._variation_post_stock_availability&&("variation_allow_notify_customer"==c[d]._variation_post_back_to_order||"variation_only_allow"==c[d]._variation_post_back_to_order)?("variation_allow_notify_customer"==c[d]._variation_post_back_to_order&&(g='<div class="stock-message"><p>&#10148; '+frontendLocalizationString.stock_available+"</p></div>",$(".add-to-cart-content").append(g)),$("#selected_variation_id").val(c[d].id),$(".add-to-cart-content").fadeIn()):1==c[d]._variation_post_manage_stock&&0==c[d]._variation_post_manage_stock_qty||1==c[d]._variation_post_manage_stock&&"variation_not_allow"==c[d]._variation_post_back_to_order||1==c[d]._variation_post_manage_stock&&"variation_out_of_stock"==c[d]._variation_post_stock_availability?(g='<div class="stock-message-error"><p>&#10148; '+frontendLocalizationString.out_of_stock+"</p></div>",$(".variations-data").after(g)):0==c[d]._variation_post_manage_stock&&"variation_in_stock"==c[d]._variation_post_stock_availability?($("#selected_variation_id").val(c[d].id),$(".add-to-cart-content").fadeIn()):0==c[d]._variation_post_manage_stock&&"variation_out_of_stock"==c[d]._variation_post_stock_availability&&(g='<div class="stock-message-error"><p>&#10148; '+frontendLocalizationString.out_of_stock+"</p></div>",$(".variations-data").after(g)),b=!1,!0}b=!0}b&&($(".view-product img").attr("src",get_products_img),$(".offer-message-container").length>0&&$(".offer-message-container").remove(),$(".stock-message").length>0&&$(".stock-message").remove(),$("#selected_variation_id").val(""),$(".add-to-cart-content").fadeOut())}}function variations_match(a,b){var c={},d="",e={};if(a.length>0)for(var f=0;f<a.length;f++)"all"!==a[f].attr_val?c[stringResize(a[f].attr_name)]=stringResize(a[f].attr_val):"all"===a[f].attr_val&&(d=stringResize(a[f].attr_name));if(b.length>0)for(var g=0;g<b.length;g++)b[g].attr_name!==d&&(e[b[g].attr_name]=b[g].attr_val);if(JSON.stringify(c)===JSON.stringify(e))return!0}function stringResize(a){var b=a;return b=String(b).toLowerCase(),b=b.replace(/\s+/g,"-")}var get_products_img,frontendLocalizationString;$(document).ready(function(){$("#frontend_all_msg_with_localization").length>0&&(frontendLocalizationString=JSON.parse($("#frontend_all_msg_with_localization").val())),$(".variations-content-main").on("change",".variation-options-lists input:radio",function(){var a=!1,b=!1,c=[];$(".variations-content-main").find(".variation-options-lists input:radio:checked").each(function(){var a={};value=$(this).val().replace(/&/g,"&").replace(/"/g,'"').replace(/'/g,"'").replace(/</g,"<").replace(/>/g,">"),a.attr_name=$(this).attr("name"),a.attr_val=value,c.push(a)}),$(".variations-content-main").find(".variation-options-lists input:radio:checked").length==$(".variations-content-main").find(".variations-line").length?a=!0:b=!0,a&&!b&&find_matching_variations(c)})});